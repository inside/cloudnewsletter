- var row_gap = 50;
- var table_border = 0; // Set to 1 to debug

mixin button(label, css, image)
  - var style = [];
  - var appliedCss = {};

  - appliedCss['text-decoration'] = 'none';
  - appliedCss['font-weight'] = 'bold';
  - appliedCss['font-size'] = '14px';
  - appliedCss['font-family'] = 'arial';
  - appliedCss['color'] = '#0b71b7';
  - appliedCss['display'] = 'inline-block';
  - appliedCss['padding'] = '10px 15px';
  - appliedCss['background-color'] = '#fff';

  - // Merge css properties into appliedCss
  - for (var attrName in css) {
  -   appliedCss[attrName] = css[attrName];
  - }
  - for (var attrName in appliedCss) {
  -   style.push(attrName + ': ' + appliedCss[attrName])
  - }
  - if (image) {
  -   image = '<img src="' + image + '" border="0" alt="" style="padding-right: 10px; margin-bottom: -5px">';
  - }

  a(href="[link_placeholder]"
    style=style.join(';'))
    != image
    = label

doctype html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"
html
  head
    meta(http-equiv="Content-Type"
         content="text/html; charset=utf-8")
  body(marginwidth="0"
       marginheight="0")
    table(align="center"
          bgcolor="#ebebeb"
          border=table_border
          width="760"
          cellpadding="0"
          cellspacing="0")
      tr
        td(align="center"
           colspan="3"
           bgcolor="#ffffff")
          p(mc:edit="top_disclaimer").
            [Editable top_disclaimer]
      tr
        td(height="65"
           colspan="3"
           bgcolor="#2b2d31")
          a(href="http://www.dmcloud.net/"
            target="_blank"
            title="Visit dmcloud.net")
            img(src="https://gallery.mailchimp.com/9eeab265312a39dae07fe3e23/images/fb8d0788-2ee2-4263-84c0-7c96d4a40fbf.png"
                width="194"
                height="35"
                style="display: block; border: 0; margin-left: 50px;"
                alt="dmcloud.net"
                title="dmcloud.net")
      tr
        td(height=row_gap
           colspan="3")
      tr
        td(width="50")
        td: block content
        td(width="50")
      tr
        td(height=row_gap
           colspan="3")
      tr
        td(align="center"
           colspan="3")
          +button('Follow us',
                  {'margin-right': '20px'},
                  'https://gallery.mailchimp.com/9eeab265312a39dae07fe3e23/images/166e971f-7a84-4621-a8c3-1475702ee29d.jpg')
          +button('Visit DM Cloud')
      tr
        td(height=row_gap
           colspan="3")
      tr
        td(align="center"
           mc:edit="bottom_disclaimer"
           colspan="3").
          [Editable bottom_disclaimer]
      tr
        td(height=row_gap
           colspan="3")
